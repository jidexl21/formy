!function(b){"use strict";function y(e){return(e.charAt(0).toUpperCase()+e.substr(1)).replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z])([A-Z][a-z])/g,"$1 $2").replace(/([a-z])([0-9])/gi,"$1 $2").replace(/([0-9])([a-z])/gi,"$1 $2")}var n={addCollapse:function(e,a){var t={id:"i"+Math.floor(1e9*Math.random()).toString(36),name:"Simple Collapsible",body:"        Lorem ipsum dolor sit amet, consectetur adipisicing elit,        sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,        quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",bsversion:3},a=(b.extend(t,a),3===t.bsversion?"col-xs-12":"col"),n={class:"btn btn-info  btn-sm btn-block","data-toggle":"collapse","data-target":"#"+t.id},a=(t.parent&&(n["data-parent"]="#"+t.parent),b("<div>",{class:"rules container-fluid"}).append(b("<div>",{class:"row no-gutters"}).append(b("<div>",{class:a}).append(b("<button>",n).text(t.name)))).append(b("<div>",{class:"collapse well well-sm",id:t.id}).append(t.body)));return e.append(a),a},createModal:function(e,t){var n="mdl_"+Math.ceil(1e16*Math.random()).toString(32),a=(t=b.extend({title:"Title",body:"",actionButton:!0,actionText:"Save Changes",size:"",closeButton:!0,closeText:"close",animated:"false",onAction:function(e,a){}},t)).size?" modal-"+t.size:"",s=!0===t.animated?" fade":"",s=b("<div>",{class:"modal"+s,tabindex:"-1",role:"dialog",id:n}).append(b("<div>",{class:"modal-dialog"+a,role:"document"}).append(b("<div>",{class:"modal-content"}).append(b("<div>",{class:"modal-header"}).append(b("<div>",{class:"row"})).append(b("<div>",{class:"col-xs-11"}).append(t.title)).append(b("<div>",{class:"col-xs-1"}).append(b("<button>",{class:"close","data-dismiss":"modal","aria-label":"Close"}).html('<span aria-hidden="true">&times;</span>')))).append(b("<div>",{class:"modal-body"}).append(t.body)).append(b("<div>",{class:"modal-footer"}).append(b("<button>",{class:"btn btn-default","data-dismiss":"modal"}).html("Close")).each(function(){!1!==t.actionButton&&b(this).append(b("<button>",{class:"btn btn-primary"}).html(t.actionText))})))).on("hidden.bs.modal",function(){b(this).remove()}).each(function(){b(this).find(".modal-footer .btn-primary").on("click",function(){b("#"+n);var e,a=[];b(this).parent().parent().find("form").each(function(e){a.push(b(this).serializeArray())}),e=1==a.length?[a[0]]:[a,b("#"+n)],!1!==t.onAction.apply(b(this),e)&&b("#"+n).modal("hide")})});return e.append(s),s},createForm:function(e,a,t){var n=-1,h=b.extend({type:"default",colratio:"1:5",columns:1,bsversion:3},t),m=b.extend([],a),t=h.colratio.split(":"),u=[],a=(u[0]=12/(parseInt(t[0])+parseInt(t[1]))*parseInt(t[0]),u[1]=12/(parseInt(t[0])+parseInt(t[1]))*parseInt(t[1]),{role:"form"}),f=(4==h.bsversion&&(a.class="row"),!1);b(e).append(b("<form>",a).each(function(){"horizontal"==h.type&&b(this).addClass("form-horizontal");for(var e="",a=(1<h.columns&&(e=0<(n=Math.round(12/h.columns))?" col-sm-"+n:""),"horizontal"==h.type?" row":""),p=0,d=0;d<m.length;d++){var c={apply:!1,isLocal:!0,name:"any",local:[],prefetch:"",limit:10},r={type:"text",value:"",label:"Not Set",name:"ctl_"+Math.round(1e6*Math.random()),attrs:{},typeahead:c},t={class:"form-group"+e+a};1<h.columns&&p%(n-1)==0&&b.extend(t,{style:"clear:left;"}),b(this).append(b("<div>",t).each(function(){var s=b.extend(r,m[d]),e=(b.extend(s.typeahead,m[d].typeahead),b("<div/>").text(y(m[d].label)).html());switch("file"==s.type&&(f=!0),"hidden"!=s.type?b(this).append(b("<label>").html(e).each(function(){"horizontal"==h.type&&b(this).addClass("control-label").addClass("col-sm-"+u[0])})):b(this).css("display","none"),s.type){case"textarea":var a=b.extend({name:s.name,class:"form-control"},s.attrs),t=b("<textarea>",a).each(function(){b(this).val(s.value)});break;case"switch":a=b.extend({type:"checkbox",name:s.name,id:"switch_"+s.name,bscolor:"default"},s.attrs);t=b("<div>",{class:"formy-switch"}).append(b("<input>",a).each(function(){b(this).val(s.value)})).append(b("<label>",{class:"label-"+a.bscolor,for:a.id}));break;case"checkbox":var a=b.extend({type:"checkbox",name:s.name},s.attrs),n=!0===s.value?' checked="checked"':"";t=b("<label>",{class:"formy-checkbox"}).append(b("<input"+n+">",a)).append(b("<span>",{class:"checkmark"}));break;case"radio":a=b.extend({type:"radio",name:s.name},s.attrs),n=!0===s.value?' checked="checked"':"";t=b("<label>",{class:"formy-radio"}).append(b("<input"+n+">",a)).append(b("<span>",{class:"checkmark"}));break;case"daterange":var n=s.name.split(","),l=1<n.length?n[1]:"",i=s.value.split(","),o=1<i.length?i[1]:"",n={type:"text",class:"form-control",name:n[0],value:i[0]},i={type:"text",class:"form-control",name:l,value:o};t=b("<div>",{class:"input-daterange input-group","data-date-format":s.format}).append(b("<input>",n)).append(b("<span>",{class:"input-group-addon"}).text("to")).append(b("<input>",i));break;case"select":a=b.extend({type:s.type,name:s.name,class:"form-control"},s.attrs);t=b("<select>",a).each(function(){for(var e,a,t=b.extend([],s.options),n=0;n<t.length;n++)"object"==typeof t[n]&&(e=null==t[n].name?t[n].value:t[n].name,a=s.value===e?{value:e,selected:"selected"}:{value:e},b(this).append(b("<option>",a).text(t[n].text))),"string"!=typeof t[n]&&"number"!=typeof t[n]||(a=s.value===t[n]?{value:t[n],selected:"selected"}:{value:e},b(this).append(b("<option>",a).text(t[n])))});break;case"date":a=b.extend({type:"text",name:s.name,class:"form-control input-date","data-date-format":s.format},s.attrs);t=b("<input>",a).each(function(){b(this).val(s.value)});break;case"hidden":p--;a=b.extend({type:s.type,name:s.name},s.attrs);t=b("<input>",a).each(function(){b(this).val(s.value)});break;case"titlebox":p--;break;case"password":a=b.extend({type:s.type,name:s.name,class:"form-control"},s.attrs);t=b("<input>",a).each(function(){b(this).val(s.value)});break;case"button":case"submit":a=b.extend({type:s.type,name:s.name,class:"btn btn-default"},s.attrs);t=b("<input>",a).each(function(){b(this).val(y(s.label))});break;case"file":a=b.extend({type:s.type,name:s.name,style:"display: none;"},s.attrs);t=b("<input>",a);break;default:a=b.extend({type:s.type,name:s.name,class:"form-control"},s.attrs);t=b("<input>",a).each(function(){b(this).val(s.value),s.typeahead=b.extend(c,s.typeahead),s.typeahead.apply&&(b(this).addClass("typeahead").data("typeahead-name",s.typeahead.name).attr("autocomplete","off").attr("spellcheck","false"),1!=s.typeahead.isLocal&&"true"!=s.typeahead.isLocal||b(this).data("typeahead-local",s.typeahead.local).data("typeahead-isLocal",!0).data("typeahead-limit",s.typeahead.limit),0==s.typeahead.isLocal)&&b(this).data("typeahead-prefetch",s.typeahead.prefetch).data("typeahead-isLocal",!1).data("typeahead-limit",s.typeahead.limit)})}if("horizontal"==h.type)switch(s.type){case"hidden":b(this).append(t);break;case"titlebox":b(this).empty().append(s.label).each(function(){for(var e in s.attrs)b(this).attr(e,s.attrs[e])});break;case"file":b(this).append(b("<div>",{class:"col-sm-"+u[1]}).append(b("<span>",{class:"selection text-muted"})).prepend(" ").prepend(b("<label>",{class:"btn btn-default btn-file"}).append("Browse...").append(t))),t.on("change",function(){var e=b(this),a=e.get(0).files?e.get(0).files.length:1,t=e.val().replace(/\\/g,"/").replace(/.*\//,"");e.trigger("fileselect",[a,t])}),t.on("fileselect",function(e,a,t){b(this).parent().parent().find(".selection").text(t)});break;case"button":case"submit":b(this).find("label").text("");default:b(this).append(b("<div>",{class:"col-sm-"+u[1]}).append(t))}else switch(s.type){case"button":case"submit":b(this).find("label").html("&nbsp;").css("display","block"),b(this).append(t);break;case"titlebox":b(this).empty().append(s.label).each(function(){for(var e in s.attrs)b(this).attr(e,s.attrs[e]);b(this).css("clear","both")});break;case"file":b(this).append(b("<div>").append(b("<span>",{class:"selection text-muted"})).prepend(" ").prepend(b("<label>",{class:"btn btn-default btn-file"}).append("Browse...").append(t))),t.on("change",function(){var e=b(this),a=e.get(0).files?e.get(0).files.length:1,t=e.val().replace(/\\/g,"/").replace(/.*\//,"");e.trigger("fileselect",[a,t])}),t.on("fileselect",function(e,a,t){b(this).parent().parent().find(".selection").text(t)});break;default:b(this).append(t)}})),p++,d==m.length-1&&b(this).append(b("<div>",{style:"clear:both"}))}})),f&&e.find("form").attr("method","post").attr("enctype","multipart/form-data")}};b.fn.formy=function(){var e=[];e.push(this);for(var a=0;a<arguments.length;a++)0!=a&&e.push(arguments[a]);try{var t=n[arguments[0]].apply(this,e)}catch(e){console.error(e)}return null==t?this:t}}($);