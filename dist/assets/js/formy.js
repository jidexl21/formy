!function(u){"use strict";var n={createForm:function(e,t,a){var n=-1,d=u.extend({type:"default",colratio:"1:5",columns:1},a),h=[],s=(h=u.extend(h,t),d.colratio.split(":")),f=[];f[0]=12/(parseInt(s[0])+parseInt(s[1]))*parseInt(s[0]),f[1]=12/(parseInt(s[0])+parseInt(s[1]))*parseInt(s[1]),u(e).append(u("<form>",{role:"form"}).each(function(){"horizontal"==d.type&&u(this).addClass("form-horizontal");var e="";1<d.columns&&(e=0<(n=Math.round(12/d.columns))?" col-sm-"+n:"");for(var o=0,i=0;i<h.length;i++){var c={apply:!1,isLocal:!0,name:"any",local:[],prefetch:"",limit:10},r={type:"text",value:"",label:"Not Set",name:"ctl_"+Math.round(1e6*Math.random()),attrs:{},typeahead:c},t={class:"form-group"+e};1<d.columns&&o%(n-1)==0&&u.extend(t,{style:"clear:left;"}),console.log(d.columns),console.log(n+" "+o),console.log(o%n),u(this).append(u("<div>",t).each(function(){var e,n=u.extend(r,h[i]);switch(u.extend(n.typeahead,h[i].typeahead),u(this).append(u("<label>").html(h[i].label).each(function(){"horizontal"==d.type&&u(this).addClass("control-label").addClass("col-sm-"+f[0])})),n.type){case"textarea":var t=u.extend({name:n.name,class:"form-control"},n.attrs);e=u("<textarea>",t).each(function(){u(this).val(n.value)});break;case"daterange":var a=n.name.split(","),s=1<a.length?a[1]:"",l={type:"text",class:"form-control",name:a[0]},p={type:"text",class:"form-control",name:s};e=u("<div>",{class:"input-daterange input-group","data-date-format":n.format}).append(u("<input>",l)).append(u("<span>",{class:"input-group-addon"}).text("to")).append(u("<input>",p));break;case"select":t=u.extend({type:n.type,name:n.name,class:"form-control"},n.attrs);e=u("<select>",t).each(function(){for(var e=u.extend([],n.options),t=0;t<e.length;t++){if("object"==typeof e[t]){var a=null==e[t].name?e[t].value:e[t].name;u(this).append(u("<option>",{value:a}).text(e[t].text))}"string"==typeof e[t]&&u(this).append(u("<option>").text(e[t]))}});break;case"date":t=u.extend({type:"text",name:n.name,class:"form-control input-date","data-date-format":n.format},n.attrs);e=u("<input>",t).each(function(){u(this).val(n.value)});break;case"hidden":t=u.extend({type:n.type,name:n.name},n.attrs);e=u("<input>",t).each(function(){u(this).val(n.value)});break;case"titlebox":o--;break;case"password":t=u.extend({type:n.type,name:n.name,class:"form-control"},n.attrs);e=u("<input>",t).each(function(){u(this).val(n.value)});break;case"button":case"submit":t=u.extend({type:n.type,name:n.name,class:"btn btn-default"},n.attrs);e=u("<input>",t).each(function(){u(this).val(n.label)});break;case"file":t=u.extend({type:n.type,name:n.name,style:"display: none;"},n.attrs);e=u("<input>",t);break;default:t=u.extend({type:n.type,name:n.name,class:"form-control"},n.attrs);e=u("<input>",t).each(function(){u(this).val(n.value),n.typeahead=u.extend(c,n.typeahead),n.typeahead.apply&&(u(this).addClass("typeahead").data("typeahead-name",n.typeahead.name).attr("autocomplete","off").attr("spellcheck","false"),1!=n.typeahead.isLocal&&"true"!=n.typeahead.isLocal||u(this).data("typeahead-local",n.typeahead.local).data("typeahead-isLocal",!0).data("typeahead-limit",n.typeahead.limit),0==n.typeahead.isLocal&&u(this).data("typeahead-prefetch",n.typeahead.prefetch).data("typeahead-isLocal",!1).data("typeahead-limit",n.typeahead.limit))})}if("horizontal"==d.type)switch(n.type){case"hidden":u(this).append(e);break;case"titlebox":u(this).empty().append(n.label).each(function(){for(var e in n.attrs)u(this).attr(e,n.attrs[e])});break;case"file":u(this).append(u("<div>",{class:"col-sm-"+f[1]}).append(u("<span>",{class:"selection text-muted"})).prepend(" ").prepend(u("<label>",{class:"btn btn-default btn-file"}).append("Browse...").append(e))),e.on("change",function(){var e=u(this),t=e.get(0).files?e.get(0).files.length:1,a=e.val().replace(/\\/g,"/").replace(/.*\//,"");e.trigger("fileselect",[t,a])}),e.on("fileselect",function(e,t,a){u(this).parent().parent().find(".selection").text(a)});break;case"button":case"submit":u(this).find("label").text("");default:u(this).append(u("<div>",{class:"col-sm-"+f[1]}).append(e))}else switch(n.type){case"button":case"submit":u(this).find("label").html("&nbsp;").css("display","block"),u(this).append(e);break;case"file":u(this).append(u("<div>").append(u("<span>",{class:"selection text-muted"})).prepend(" ").prepend(u("<label>",{class:"btn btn-default btn-file"}).append("Browse...").append(e))),e.on("change",function(){var e=u(this),t=e.get(0).files?e.get(0).files.length:1,a=e.val().replace(/\\/g,"/").replace(/.*\//,"");e.trigger("fileselect",[t,a])}),e.on("fileselect",function(e,t,a){u(this).parent().parent().find(".selection").text(a)});break;default:u(this).append(e)}})),o++,i==h.length-1&&u(this).append(u("<div>",{style:"clear:both"}))}}))}};u.fn.formy=function(){var e=[];e.push(this);for(var t=0;t<arguments.length;t++)0==t||e.push(arguments[t]);try{var a=n[arguments[0]].apply(this,e)}catch(e){console.error(e)}return null==a?this:a}}($);