!function(f){"use strict";var b=function(e){return(e.charAt(0).toUpperCase()+e.substr(1)).replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z])([A-Z][a-z])/g,"$1 $2").replace(/([a-z])([0-9])/gi,"$1 $2").replace(/([0-9])([a-z])/gi,"$1 $2")},n={addCollapse:function(e,a){var t={id:"i"+Math.floor(1e9*Math.random()).toString(36),name:"Simple Collapsible",body:"        Lorem ipsum dolor sit amet, consectetur adipisicing elit,        sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,        quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",bsversion:3};f.extend(t,a);var n=3===t.bsversion?"col-xs-12":"col",s=f("<div>",{class:"rules container-fluid"}).append(f("<div>",{class:"row no-gutters"}).append(f("<div>",{class:n}).append(f("<button>",{class:"btn btn-info  btn-sm btn-block","data-toggle":"collapse","data-target":"#"+t.id}).text(t.name)))).append(f("<div>",{class:"collapse well well-sm",id:t.id}).append(t.body));return e.append(s),s},createModal:function(e,t){var n="mdl_"+Math.ceil(1e16*Math.random()).toString(32),a=(t=f.extend({title:"Title",body:"",size:"",animated:"false",onAction:function(e,a){}},t)).size?" modal-"+t.size:"",s=!0===t.animated?" fade":"",l=f("<div>",{class:"modal"+s,tabindex:"-1",role:"dialog",id:n}).append(f("<div>",{class:"modal-dialog"+a,role:"document"}).append(f("<div>",{class:"modal-content"}).append(f("<div>",{class:"modal-header"}).append(f("<div>",{class:"row"})).append(f("<div>",{class:"col-xs-11"}).append(t.title)).append(f("<div>",{class:"col-xs-1"}).append(f("<button>",{class:"close","data-dismiss":"modal","aria-label":"Close"}).html('<span aria-hidden="true">&times;</span>')))).append(f("<div>",{class:"modal-body"}).append(t.body)).append(f("<div>",{class:"modal-footer"}).append(f("<button>",{class:"btn btn-default","data-dismiss":"modal"}).html("Close")).append(f("<button>",{class:"btn btn-primary"}).html("Save Changes"))))).on("hidden.bs.modal",function(){f(this).remove()}).each(function(){f(this).find(".modal-footer .btn-primary").on("click",function(){var a=[null,f("#"+n)];f(this).parent().parent().find("form").each(function(){var e=f(this).serializeArray();a=[e]}),!1!==t.onAction.apply(f(this),a)&&f("#"+n).modal("hide")})});return e.append(l),l},createForm:function(e,a,t){var n=-1,h=f.extend({type:"default",colratio:"1:5",columns:1},t),m=[],s=(m=f.extend(m,a),h.colratio.split(":")),u=[];u[0]=12/(parseInt(s[0])+parseInt(s[1]))*parseInt(s[0]),u[1]=12/(parseInt(s[0])+parseInt(s[1]))*parseInt(s[1]),f(e).append(f("<form>",{role:"form",class:"row"}).each(function(){"horizontal"==h.type&&f(this).addClass("form-horizontal");var e="";1<h.columns&&(e=0<(n=Math.round(12/h.columns))?" col-sm-"+n:"");for(var a="horizontal"==h.type?" row":"",p=0,d=0;d<m.length;d++){var r={apply:!1,isLocal:!0,name:"any",local:[],prefetch:"",limit:10},c={type:"text",value:"",label:"Not Set",name:"ctl_"+Math.round(1e6*Math.random()),attrs:{},typeahead:r},t={class:"form-group"+e+a};1<h.columns&&p%(n-1)==0&&f.extend(t,{style:"clear:left;"}),f(this).append(f("<div>",t).each(function(){var n=f.extend(c,m[d]);f.extend(n.typeahead,m[d].typeahead);var e,a=f("<div/>").text(b(m[d].label)).html();switch(f(this).append(f("<label>").html(a).each(function(){"horizontal"==h.type&&f(this).addClass("control-label").addClass("col-sm-"+u[0])})),n.type){case"textarea":var t=f.extend({name:n.name,class:"form-control"},n.attrs);e=f("<textarea>",t).each(function(){f(this).val(n.value)});break;case"switch":t=f.extend({type:"checkbox",name:n.name,id:"switch_"+n.name},n.attrs);e=f("<div>",{class:"formy-switch"}).append(f("<input>",t).each(function(){f(this).val(n.value)})).append(f("<label>",{class:"label-default",for:t.id}));break;case"daterange":var s=n.name.split(","),l=1<s.length?s[1]:"",i={type:"text",class:"form-control",name:s[0]},o={type:"text",class:"form-control",name:l};e=f("<div>",{class:"input-daterange input-group","data-date-format":n.format}).append(f("<input>",i)).append(f("<span>",{class:"input-group-addon"}).text("to")).append(f("<input>",o));break;case"select":t=f.extend({type:n.type,name:n.name,class:"form-control"},n.attrs);e=f("<select>",t).each(function(){for(var e=f.extend([],n.options),a=0;a<e.length;a++){if("object"==typeof e[a]){var t=null==e[a].name?e[a].value:e[a].name;f(this).append(f("<option>",{value:t}).text(e[a].text))}"string"==typeof e[a]&&f(this).append(f("<option>").text(e[a]))}});break;case"date":t=f.extend({type:"text",name:n.name,class:"form-control input-date","data-date-format":n.format},n.attrs);e=f("<input>",t).each(function(){f(this).val(n.value)});break;case"hidden":t=f.extend({type:n.type,name:n.name},n.attrs);e=f("<input>",t).each(function(){f(this).val(n.value)});break;case"titlebox":p--;break;case"password":t=f.extend({type:n.type,name:n.name,class:"form-control"},n.attrs);e=f("<input>",t).each(function(){f(this).val(n.value)});break;case"button":case"submit":t=f.extend({type:n.type,name:n.name,class:"btn btn-default"},n.attrs);e=f("<input>",t).each(function(){f(this).val(b(n.label))});break;case"file":t=f.extend({type:n.type,name:n.name,style:"display: none;"},n.attrs);e=f("<input>",t);break;default:t=f.extend({type:n.type,name:n.name,class:"form-control"},n.attrs);e=f("<input>",t).each(function(){f(this).val(n.value),n.typeahead=f.extend(r,n.typeahead),n.typeahead.apply&&(f(this).addClass("typeahead").data("typeahead-name",n.typeahead.name).attr("autocomplete","off").attr("spellcheck","false"),1!=n.typeahead.isLocal&&"true"!=n.typeahead.isLocal||f(this).data("typeahead-local",n.typeahead.local).data("typeahead-isLocal",!0).data("typeahead-limit",n.typeahead.limit),0==n.typeahead.isLocal&&f(this).data("typeahead-prefetch",n.typeahead.prefetch).data("typeahead-isLocal",!1).data("typeahead-limit",n.typeahead.limit))})}if("horizontal"==h.type)switch(n.type){case"hidden":f(this).append(e);break;case"titlebox":f(this).empty().append(b(n.label)).each(function(){for(var e in n.attrs)f(this).attr(e,n.attrs[e])});break;case"file":f(this).append(f("<div>",{class:"col-sm-"+u[1]}).append(f("<span>",{class:"selection text-muted"})).prepend(" ").prepend(f("<label>",{class:"btn btn-default btn-file"}).append("Browse...").append(e))),e.on("change",function(){var e=f(this),a=e.get(0).files?e.get(0).files.length:1,t=e.val().replace(/\\/g,"/").replace(/.*\//,"");e.trigger("fileselect",[a,t])}),e.on("fileselect",function(e,a,t){f(this).parent().parent().find(".selection").text(t)});break;case"button":case"submit":f(this).find("label").text("");default:f(this).append(f("<div>",{class:"col-sm-"+u[1]}).append(e))}else switch(n.type){case"button":case"submit":f(this).find("label").html("&nbsp;").css("display","block"),f(this).append(e);break;case"titlebox":f(this).empty().append(b(n.label)).each(function(){for(var e in n.attrs)f(this).attr(e,n.attrs[e])});break;case"file":f(this).append(f("<div>").append(f("<span>",{class:"selection text-muted"})).prepend(" ").prepend(f("<label>",{class:"btn btn-default btn-file"}).append("Browse...").append(e))),e.on("change",function(){var e=f(this),a=e.get(0).files?e.get(0).files.length:1,t=e.val().replace(/\\/g,"/").replace(/.*\//,"");e.trigger("fileselect",[a,t])}),e.on("fileselect",function(e,a,t){f(this).parent().parent().find(".selection").text(t)});break;default:f(this).append(e)}})),p++,d==m.length-1&&f(this).append(f("<div>",{style:"clear:both"}))}}))}};f.fn.formy=function(){var e=[];e.push(this);for(var a=0;a<arguments.length;a++)0==a||e.push(arguments[a]);try{var t=n[arguments[0]].apply(this,e)}catch(e){console.error(e)}return null==t?this:t}}($);