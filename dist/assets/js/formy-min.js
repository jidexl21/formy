!function(m){"use strict";var n={createForm:function(e,t,a){var n=-1,h=m.extend({type:"default",colratio:"1:5",columns:1},a),f=[],s=(f=m.extend(f,t),h.colratio.split(":")),u=[];u[0]=12/(parseInt(s[0])+parseInt(s[1]))*parseInt(s[0]),u[1]=12/(parseInt(s[0])+parseInt(s[1]))*parseInt(s[1]),m(e).append(m("<form>",{role:"form"}).each(function(){"horizontal"==h.type&&m(this).addClass("form-horizontal");var e="";1<h.columns&&(e=0<(n=Math.round(12/h.columns))?" col-sm-"+n:"");for(var o=0,c=0;c<f.length;c++){var r={apply:!1,isLocal:!0,name:"any",local:[],prefetch:"",limit:10},d={type:"text",value:"",label:"Not Set",name:"ctl_"+Math.round(1e6*Math.random()),attrs:{},typeahead:r},t={class:"form-group"+e};1<h.columns&&o%(n-1)==0&&m.extend(t,{style:"clear:left;"}),console.log(h.columns),console.log(n+" "+o),console.log(o%n),m(this).append(m("<div>",t).each(function(){var n=m.extend(d,f[c]);m.extend(n.typeahead,f[c].typeahead);var e,t=m("<div/>").text(f[c].label).html();switch(m(this).append(m("<label>").html(t).each(function(){"horizontal"==h.type&&m(this).addClass("control-label").addClass("col-sm-"+u[0])})),n.type){case"textarea":var a=m.extend({name:n.name,class:"form-control"},n.attrs);e=m("<textarea>",a).each(function(){m(this).val(n.value)});break;case"switch":a=m.extend({type:"checkbox",name:n.name,id:"switch_"+n.name},n.attrs);e=m("<div>",{class:"formy-switch"}).append(m("<input>",a).each(function(){m(this).val(n.value)})).append(m("<label>",{class:"label-default",for:a.id}));break;case"daterange":var s=n.name.split(","),l=1<s.length?s[1]:"",p={type:"text",class:"form-control",name:s[0]},i={type:"text",class:"form-control",name:l};e=m("<div>",{class:"input-daterange input-group","data-date-format":n.format}).append(m("<input>",p)).append(m("<span>",{class:"input-group-addon"}).text("to")).append(m("<input>",i));break;case"select":a=m.extend({type:n.type,name:n.name,class:"form-control"},n.attrs);e=m("<select>",a).each(function(){for(var e=m.extend([],n.options),t=0;t<e.length;t++){if("object"==typeof e[t]){var a=null==e[t].name?e[t].value:e[t].name;m(this).append(m("<option>",{value:a}).text(e[t].text))}"string"==typeof e[t]&&m(this).append(m("<option>").text(e[t]))}});break;case"date":a=m.extend({type:"text",name:n.name,class:"form-control input-date","data-date-format":n.format},n.attrs);e=m("<input>",a).each(function(){m(this).val(n.value)});break;case"hidden":a=m.extend({type:n.type,name:n.name},n.attrs);e=m("<input>",a).each(function(){m(this).val(n.value)});break;case"titlebox":o--;break;case"password":a=m.extend({type:n.type,name:n.name,class:"form-control"},n.attrs);e=m("<input>",a).each(function(){m(this).val(n.value)});break;case"button":case"submit":a=m.extend({type:n.type,name:n.name,class:"btn btn-default"},n.attrs);e=m("<input>",a).each(function(){m(this).val(n.label)});break;case"file":a=m.extend({type:n.type,name:n.name,style:"display: none;"},n.attrs);e=m("<input>",a);break;default:a=m.extend({type:n.type,name:n.name,class:"form-control"},n.attrs);e=m("<input>",a).each(function(){m(this).val(n.value),n.typeahead=m.extend(r,n.typeahead),n.typeahead.apply&&(m(this).addClass("typeahead").data("typeahead-name",n.typeahead.name).attr("autocomplete","off").attr("spellcheck","false"),1!=n.typeahead.isLocal&&"true"!=n.typeahead.isLocal||m(this).data("typeahead-local",n.typeahead.local).data("typeahead-isLocal",!0).data("typeahead-limit",n.typeahead.limit),0==n.typeahead.isLocal&&m(this).data("typeahead-prefetch",n.typeahead.prefetch).data("typeahead-isLocal",!1).data("typeahead-limit",n.typeahead.limit))})}if("horizontal"==h.type)switch(n.type){case"hidden":m(this).append(e);break;case"titlebox":m(this).empty().append(n.label).each(function(){for(var e in n.attrs)m(this).attr(e,n.attrs[e])});break;case"file":m(this).append(m("<div>",{class:"col-sm-"+u[1]}).append(m("<span>",{class:"selection text-muted"})).prepend(" ").prepend(m("<label>",{class:"btn btn-default btn-file"}).append("Browse...").append(e))),e.on("change",function(){var e=m(this),t=e.get(0).files?e.get(0).files.length:1,a=e.val().replace(/\\/g,"/").replace(/.*\//,"");e.trigger("fileselect",[t,a])}),e.on("fileselect",function(e,t,a){m(this).parent().parent().find(".selection").text(a)});break;case"button":case"submit":m(this).find("label").text("");default:m(this).append(m("<div>",{class:"col-sm-"+u[1]}).append(e))}else switch(n.type){case"button":case"submit":m(this).find("label").html("&nbsp;").css("display","block"),m(this).append(e);break;case"file":m(this).append(m("<div>").append(m("<span>",{class:"selection text-muted"})).prepend(" ").prepend(m("<label>",{class:"btn btn-default btn-file"}).append("Browse...").append(e))),e.on("change",function(){var e=m(this),t=e.get(0).files?e.get(0).files.length:1,a=e.val().replace(/\\/g,"/").replace(/.*\//,"");e.trigger("fileselect",[t,a])}),e.on("fileselect",function(e,t,a){m(this).parent().parent().find(".selection").text(a)});break;default:m(this).append(e)}})),o++,c==f.length-1&&m(this).append(m("<div>",{style:"clear:both"}))}}))}};m.fn.formy=function(){var e=[];e.push(this);for(var t=0;t<arguments.length;t++)0==t||e.push(arguments[t]);try{var a=n[arguments[0]].apply(this,e)}catch(e){console.error(e)}return null==a?this:a}}($);